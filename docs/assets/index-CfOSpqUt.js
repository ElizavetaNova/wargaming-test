(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function h(){const t=window.innerWidth;return t<600?"mobile":t<800?"tablet":"desktop"}function S(){const t=h();return t==="mobile"?1:t==="tablet"?2:3}function x(t,n){const e=[...document.querySelectorAll(".tank-card")].indexOf(t);return Math.floor(e/n)}function u(){const t=h();return t==="mobile"||t==="tablet"}function w(t,n,r){const e=document.getElementById("tooltip"),o=e.querySelector(".tooltip__arrow"),i=h();if(u()){document.body.style.overflow="hidden";const p=t.dataset.tank,y=document.getElementById("tooltip-title");if(p){const b=n.find(L=>L.id===p);b&&(y.textContent=b.name)}e.classList.add("fullscreen"),e.classList.add("visible"),e.style.left="",e.style.top="";return}e.classList.remove("fullscreen");const s=t.getBoundingClientRect(),c=S(),l=x(t,c);let a;if(a="bottom",i==="desktop"){const p=document.querySelectorAll(".tank-card").length,y=Math.ceil(p/c);a=l===0?"bottom":l===y-1?"top":"bottom"}i==="tablet"&&(a=l===0?"bottom":"top");let d=s.left+s.width/2-e.offsetWidth/2;const f=i==="desktop"?40:30;d=Math.max(f,Math.min(d,window.innerWidth-e.offsetWidth-f));let m;a==="top"?(m=s.top+window.scrollY-e.offsetHeight-28,o.style.top=`${e.offsetHeight-2}px`,o.style.rotate="180deg"):(m=s.bottom+window.scrollY+28,o.style.top="-28px",o.style.rotate="360deg"),e.style.left=d+"px",e.style.top=m+"px";const v=s.left+s.width/2-d-o.clientWidth/2;o.style.left=`${v}px`,e.classList.add("visible")}function k(t){const n=document.getElementById("tooltip"),r=document.querySelectorAll(".tank-card");let e=null,o=!1;n.querySelector(".tooltip__close")?.addEventListener("click",()=>{n.classList.remove("visible"),document.body.style.overflow=""});function s(){u()||!e&&!o&&n.classList.remove("visible")}n.addEventListener("mouseenter",()=>{u()||(o=!0)}),n.addEventListener("mouseleave",()=>{u()||(o=!1,s())}),r.forEach(c=>{c.addEventListener("mouseenter",l=>{u()||(e=l.currentTarget,w(e,t))}),c.addEventListener("click",l=>{u()&&w(l.currentTarget,t)}),c.addEventListener("mouseleave",()=>{u()||(e=null,setTimeout(()=>{!e&&!o&&s()},200))})})}function I(){document.querySelectorAll(".range").forEach(n=>{n.addEventListener("input",()=>g(n)),g(n)})}function g(t){const n=Number(t.value)/Number(t.max)*100;t.style.setProperty("--progress",n+"%")}function T(){const t=document.getElementById("slider"),n=document.getElementById("battlesInput"),r=document.getElementById("xp-value");t.addEventListener("input",()=>{n.value=t.value,e()}),n.addEventListener("input",()=>{n.value=n.value.replace(/\D/g,"");let s=Number(n.value);s>300&&(s=300),(s<0||isNaN(s))&&(s=0),n.value=s.toString(),t.value=s.toString(),g(t),e()}),document.querySelectorAll('input[name="config"]').forEach(s=>{s.addEventListener("change",e)});function e(){const s=Number(t.value),c=document.querySelector('input[name="config"]:checked'),l=3;let a=0;c.value==="elite"&&(a=.1),c.value==="premium"&&(a=.2);const d=s*l;i(Math.round(d+d*a))}let o=0;function i(s){const l=performance.now();function a(d){const f=d>l?Math.min((d-l)/300,1):0,m=o||0,v=Math.floor(m+(s-m)*f);r.textContent=v.toString(),f<1?requestAnimationFrame(a):o=s}requestAnimationFrame(a)}n.value=t.value,g(t),e()}const E=[{id:"t34",name:"T-34",image:"./assets/images/t34.png"},{id:"kv1",name:"KV-1",image:"./assets/images/kv1.png"},{id:"t150",name:"T-150",image:"./assets/images/t150.png"},{id:"is3",name:"IS-3",image:"./assets/images/is3.png"},{id:"st1",name:"ST-1",image:"./assets/images/st1.png"},{id:"object752",name:"Object-752",image:"./assets/images/object752.png"}];function M(t){const n=document.getElementById("tanks");if(!n){console.error("Container #tanks not found");return}n.innerHTML="",t.forEach(r=>{const e=document.createElement("div");e.className="tank-card",e.dataset.tank=r.id,e.innerHTML=`
      <img src="${r.image}" alt="${r.name}">
      <span class="tank-card__name">${r.name}</span>
    `,n.appendChild(e)})}I();M(E);k(E);T();
